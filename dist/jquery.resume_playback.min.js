!function($,e,t,n){"use strict";function i(e,t,n){var i=this;i.element=$(e),i.id=t,i.options=$.extend({},$.fn.resumePlayback.defaults,n),i.options.dataStore.cookie.name=i.options.cookie.name,i.options.dataStore.cookie.days=i.options.cookie.days,i.init();var a=null,r=i.options.dataStore;return i.element.bind("play seeked pause abort timeupdate",function(e){var n=e.target.currentTime;n!==a&&n>0&&(r.set(t,n),a=n)}),i}var a={cookie:{name:"resumePlayback",days:365},set:function(e,n){var i=this.get();if(i[e]=n,i=JSON.stringify(i),this.cookie.days){var a=new Date;a.setTime(a.getTime()+24*this.cookie.days*60*60*1e3);var r="; expires="+a.toGMTString()}else var r="";t.cookie=this.cookie.name+"="+i+r+"; path=/"},get:function(e){for(var n=0,i=this.cookie.name+"=",a=t.cookie.split(";"),r=0;r<a.length;r++){for(var o=a[r];" "==o.charAt(0);)o=o.substring(1,o.length);0==o.indexOf(i)&&(n=o.substring(i.length,o.length))}var s=JSON.parse(n)||{};if(!e)return s;var n="undefined"==typeof s[e]?0:s[e];return n}};i.prototype.init=function(){var e=this,t="canplaythrough play",n=this.element,i=this.options,a=this.options.dataStore.get(this.id);if(a){e.options.resuming&&e.options.resuming(e.element,a);var r=function(o){var s=o.target.currentTime;o.target.currentTime=a,n.unbind(t,r),i.resumed&&i.resumed(e.element,a)};n.bind(t,r)}return e},$.fn.resumePlayback=function(e,t){return this.each(function(){$.data(this,"plugin_resumePlayback")||$.data(this,"plugin_resumePlayback",new i(this,e,t))})},$.fn.resumePlayback.defaults={resuming:null,resumed:null,cookie:{name:"resumePlayback",days:365},dataStore:a,cssPrefix:"resume-playback"},$.fn.resumePlayback.version=function(){return"0.1.3"}}(jQuery,window,document);